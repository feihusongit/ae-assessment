version: 2

models:
  - name: stg_transactions
    description: "All historic transactions."
    columns:
      - name: transaction_id
        description: "Unique transaction identifier."
        tests:
          - not_null
          - unique

      - name: client_id
        description: "Id of the client of the transaction"
        tests:
          - not_null

      - name: transaction_amount
        description: "Original amount of the transaction in the original currency. Always positive."
        tests:
          - not_null

      - name: transaction_type
        description: "Type of the transaction. payment/chargeback/fraud/refund"

      - name: platform_fee_margin
        description: "Margin of the platform fee, before any dicounts"

      - name: currency
        description: "Currency code of the transaction initiated"
        tests:
          - not_null

      - name: linked_transaction_id
        description: "For refunded transactions, the transaction_id of the original payment"

      - name: transaction_date
        description: "date of the transaction"
        tests:
          - not_null

      - name: transaction_month
        description: "First day of the month of transaction_date"
        tests:
          - not_null
